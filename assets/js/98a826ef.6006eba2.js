"use strict";(self.webpackChunkdatavines_website=self.webpackChunkdatavines_website||[]).push([[1333],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=a.createContext({}),l=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(d.Provider,{value:t},e.children)},u="mdxType",v={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=l(n),p=i,f=u["".concat(d,".").concat(p)]||u[p]||v[p]||r;return n?a.createElement(f,o(o({ref:t},c),{},{components:n})):a.createElement(f,o({ref:t},c))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},4211:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var a=n(7462),i=(n(7294),n(3905));const r={id:"source-module-explanation",title:"Source Module Explanation"},o="Datavines Code Architecture Analysis",s={unversionedId:"development/source-module-explanation",id:"development/source-module-explanation",title:"Source Module Explanation",description:"This article gives a detailed introduction to each core module in Datavines",source:"@site/docs/06-development/03-source-module-explanation.md",sourceDirName:"06-development",slug:"/development/source-module-explanation",permalink:"/datavines-website/docs/development/source-module-explanation",draft:!1,editUrl:"https://github.com/datavane/datavines-website/edit/dev/docs/06-development/03-source-module-explanation.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"source-module-explanation",title:"Source Module Explanation"},sidebar:"tutorialSidebar",previous:{title:"Environment Preparation",permalink:"/datavines-website/docs/development/environment-preparation"},next:{title:"Metric Develop Guide",permalink:"/datavines-website/docs/development/plugin/metric-develop"}},d={},l=[{value:"datavines-server",id:"datavines-server",level:2},{value:"datavines-spi",id:"datavines-spi",level:2},{value:"datavines-connector",id:"datavines-connector",level:2},{value:"datavines-metric",id:"datavines-metric",level:2},{value:"datavines-engine",id:"datavines-engine",level:2},{value:"datavines-registry",id:"datavines-registry",level:2},{value:"datavines-notification",id:"datavines-notification",level:2},{value:"datavines-runner",id:"datavines-runner",level:2}],c={toc:l};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"datavines-code-architecture-analysis"},"Datavines Code Architecture Analysis"),(0,i.kt)("p",null,"This article gives a detailed introduction to each core module in Datavines"),(0,i.kt)("h2",{id:"datavines-server"},"datavines-server"),(0,i.kt)("p",null,"datavines-server is the core module of datavines. Its core functions include providing API interface externally, data management of the whole system, metadata acquisition and management of data sources, management, scheduling and execution of data quality rules. It is a decentralized design, supports horizontal expansion to improve performance, and supports fault-tolerant processing of various jobs."),(0,i.kt)("h2",{id:"datavines-spi"},"datavines-spi"),(0,i.kt)("p",null,"datavines-spi is the SPI module in datavines. Its main function is to design the SPI interface and PluginLoader. PluginLoader is responsible for scanning the plugins with @SPI and loading the specific plugins into the system."),(0,i.kt)("h2",{id:"datavines-connector"},"datavines-connector"),(0,i.kt)("p",null,"datavines-connector is the data source module in datavines. datavines-connector-api defines various interfaces of data sources. For example, Connector interface defines various metadata-related interfaces of data sources, and Executor interface defines data sources. The interface related to data query, the interface related to the dialect of the data source is defined in the Dialect interface. datavines-connector-plugins is the specific implementation of various data sources, and the built-in data sources include MySQL, Doris, Starrocks, Trino, Presto and other 10 data sources."),(0,i.kt)("h2",{id:"datavines-metric"},"datavines-metric"),(0,i.kt)("p",null,"datavines-metric is a rule module in datavines, and datavines-metric-api defines the interfaces of rules, expected values, and result calculation formulas. The SqlMetric interface mainly defines the type of rules, actual value calculation logic and other related methods. The ExpectedValue interface mainly defines the calculation logic related methods of the expected value. The ResultFormula interface mainly defines methods related to the calculation logic of the check formula."),(0,i.kt)("h2",{id:"datavines-engine"},"datavines-engine"),(0,i.kt)("p",null,"datavines-engine is the job execution engine module in datavines. datavines-engine-api defines the engine-related interfaces, and the Execution interface mainly defines the related methods of job execution. The execute method mainly executes the reading of the source, transforms the data, and finally sinks the data to the destination. The datavines-engine-config module mainly defines the construction logic and related methods of job configuration files. The datavines-engine-executor module defines the logic related to the job executor"),(0,i.kt)("h2",{id:"datavines-registry"},"datavines-registry"),(0,i.kt)("p",null,"datavines-registry is the registry in datavines. datavines-registry-api defines interfaces such as acquiring locks, releasing locks, acquiring current active nodes, and notifying nodes when they go offline. There are three types of registries built into datavines-registry-plugins, including MySQL, PostgreSQL, and ZooKeeper."),(0,i.kt)("h2",{id:"datavines-notification"},"datavines-notification"),(0,i.kt)("p",null,"datavines-notification is the notification channel management in datavines. datavines-notification-api defines the notification channel's message notification, configuration parameters and other interfaces. The email type notification channel implementation is built into datavines-notification-plugins."),(0,i.kt)("h2",{id:"datavines-runner"},"datavines-runner"),(0,i.kt)("p",null,"datavines-runner is a module in datavines responsible for running data quality checks in script mode. Its main functions are to read configuration files, parse configuration files, perform data quality checks, judge check results, and run alarm processing."))}u.isMDXComponent=!0}}]);