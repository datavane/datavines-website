---
id: 'time-variable'
title: '内置时间变量'
---

## 介绍
时间变量是`Datavines`系统内置的变量，可用于检查作业中的过滤条件和自定义SQL中，

## 使用方法

在过滤条件或者自定义SQL中可以使用 `$[表达式]` 的形式来使用，假设今天是 2023-10-01，目前支持的表达式如下：
- $[today]: 获取今天的日期，格式为yyyy-MM-dd，例如2023-10-01
- $[yesterday]: 获取昨天的日期，格式为yyyy-MM-dd，例如2023-09-30
- $[tomorrow]: 获取明天的日期，格式为yyyy-MM-dd，例如2023-10-02
- $[yyyy-MM-dd HH:mm:ss]: 获取当前格式的日期或者时间
- $[(时间格式)(-/+)n]: 获取当前格式的日期或者时间加减n天
    - $[yyyy-MM-dd-2]: 获取当前格式的日期的前两天，就是2023-09-29
- $[add_months(时间格式, (-/+)n)]: 获取当前格式的日期或者时间加减n个月
    - $[add_months(yyyy-MM-dd, 2)]: 获取当前格式的日期的后两个月，就是2023-12-01
- $[month_begin(时间格式, (-/+)n)]: 获取当前格式的日期所在月的第一天加减n天
    - $[month_begin(yyyy-MM-dd, +2)]: 获取当前格式的日期所在月的第一天的后两天，就是2023-10-03
- $[month_end(时间格式, (-/+)n)]: 获取当前格式的日期所在月的最后一天加减n天
    - $[add_months(yyyy-MM-dd, -2)]: 获取当前格式的日期所在月的最后一天的前两天，就是2023-10-29
- $[week_begin(时间格式, (-/+)n)]: 获取当前格式的日期所在周的第一天加减n天
    - $[week_begin(yyyy-MM-dd, -2)]: 获取当前格式的日期所在周的第一天的前两天，就是2023-09-23
- $[week_end(时间格式, (-/+)n)]: 获取当前格式的日期所在周的最后一天加减n天
    - $[add_months(yyyy-MM-dd, -2)]: 获取当前格式的日期所在周的最后一天的前两天，就是2023-09-29